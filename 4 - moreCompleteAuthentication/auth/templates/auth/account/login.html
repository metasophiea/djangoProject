<!DOCTYPE html>
<html lang="en">

<head>
  <title>login - metasophiea</title>
	<meta charset="utf-8"></meta>

	<link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">

	<script>
  
    var providers = [
      {% load i18n %}
      {% load account socialaccount %}
      {% get_providers as socialaccount_providers %}
      {% for provider in socialaccount_providers %}
        { 
          "name": "{{provider.name}}",
          "id":"{{provider.id}}",
          "provider_login_url": "{% provider_login_url provider.id process=process scope=scope auth_params=auth_params %}",
        },
      {% endfor %}
    ];

    function go(){
      for(var a = 0; a < providers.length; a++){
        console.log(providers[a]);

        element = document.createElement('a');
        element.title = providers[a].name;
        element.class = "socialaccount_provider" + providers[a].id;
        element.href = providers[a].provider_login_url;
        element.innerHTML = providers[a].name;

        document.getElementById('providerLoginCard').appendChild( element );
      }
    }
  
  </script>
	<style>
    html{ font-family: Raleway; }
  </style>
</head>

<body onLoad="go()">

    <section id='standardLoginCard' class='card' style='text-align:center;'>
      <h1 class='mainTitle'>Login</h1>

      <form class="login" method="POST" action="{% url 'account_login' %}">
        {% csrf_token %}

        <p class='formInputText'> 
          <input id='id_login' type='text' name='login' autofocus="autofocus" required placeholder="username"/>
        </p>

        <p class='formInputText'>
          <input id='id_password' type='password' name='password' required placeholder="password"/>
        </p>

        <p class='formInputCheckBox'>Remember Me
          <input type="checkbox" name="remember" id="id_remember"/>
        </p>

        {% if redirect_field_value %}
        <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
        {% endif %}
        <a class="button secondaryAction" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
        <input class='button' type='submit' value='login'/>
      </form>

    </section> 

  <br/>

	<section id='providerLoginCard' class='card' style='text-align:center;'>
  </section>

</body>
</html>